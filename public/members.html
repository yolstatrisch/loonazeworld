<link rel="stylesheet" type="text/css" href="css/members.css">

<p>
	<div id="members" class="flex">
		<div id="details"></div>
		<div class="tabs">
			<div class="tab heejin sel" onclick="loadJSON('#details', 'members heejin')">희진</div>
			<div class="tab hyunjin" onclick="loadJSON('#details', 'members hyunjin')">현진</div>
			<div class="tab haseul" onclick="loadJSON('#details', 'members haseul')">하슬</div>
			<div class="tab yeojin" onclick="loadJSON('#details', 'members yeojin')">여진</div>
			<div class="tab vivi" onclick="loadJSON('#details', 'members vivi')">비비</div>
			<div class="tab kimlip" onclick="loadJSON('#details', 'members kimlip')">김립</div>
			<div class="tab jinsoul" onclick="loadJSON('#details', 'members jinsoul')">진솔</div>
			<div class="tab choerry" onclick="loadJSON('#details', 'members choerry')">최리</div>
			<div class="tab yves" onclick="loadJSON('#details', 'members yves')">이브</div>
			<div class="tab chuu" onclick="loadJSON('#details', 'members chuu')">츄</div>
			<div class="tab gowon" onclick="loadJSON('#details', 'members gowon')">고원</div>
			<div class="tab olivia" onclick="loadJSON('#details', 'members olivia')">올리비아 혜</div>
		</div>
	</div>
</p>

<script type="text/javascript">
	$(function() {
		$('#details').load('members/meminfo.html', function(){
			$('#wait').hide();
		});
		$('#wait').show();
	
		//loadJSON('#details', 'members template');
	});
	
	function loadJSON(id, path){
		if($(id).attr("class") != path){
			$(id).removeClass();
			
			path = path.split(' ');
			page = '.';
			
			console.log('.tab.' + path[path.length - 1]);
			
			path.forEach(function(c){
				$(id).addClass(c);
				page += '/' + c;
			});
			
			html = "";
			
			$.getJSON(page + ".json", function(json){
				jsonToHtml(id, json);
				/*
				for(key in json){
					html += key + " : " + json[key] + "<br>";
				}
				$(id).html(html);
				*/
			});
			
			$('.sel').removeClass('sel');
			$('.tab.' + path[path.length - 1]).addClass('sel');
		}
	}
	
	function jsonToHtml(id, json){
		for(key in json){
			if($('#_' + key).length){
				$('#_' + key).html(json[key]);
			}
		}
	}
</script>